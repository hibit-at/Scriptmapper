# 非公式Script Mapper

[ダウンロード](https://github.com/rei05/Scriptmapper/releases)

[公式版Script Mapper](https://github.com/hibit-at/Scriptmapper)を機能拡張したものです。基本的な使い方は公式版と同じです。

# 公式版との差分

## rotateコマンド

公式版rotateコマンドは最大5つのパラメータを指定可能ですが、さらに5つのパラメータを追加し合計10個のパラメータを指定できるようにしました。

コマンド書式: `rotate[r1],[h1],[a],[o],[s1],[j],[w],[r2],[h2],[s1]`

|パラメータ|説明|
|---|---|
|`r1`|公式版のrと同じ。カメラが回転する半径 (m)|
|`h1`|公式版のhと同じ。カメラの高さ (m)|
|`a`|公式版のaと同じ。カメラが向く方向の、垂直方向の位置 (m)|
|`o`|公式版のoと同じ。カメラの回転の中心及びカメラが向く方向の、前後方向の位置 (m)|
|`s1`|公式版のsと同じ。カメラ自体の傾き|
|`j`|回転の開始角度。プレイヤーの背中側を0度とし、真上から見て反時計回りを正方向として角度を指定する。(非ラジアン)|
|`w`|回転角度幅。jパラメータで指定した開始角度から何度分だけ回転するか指定する。負の数の場合は真上から見て時計回りになる。|
|`r2`|回転終了時の半径。半径が回転しながらr1からr2へ変化する|
|`h2`|回転終了時の高さ。高さが回転しながらh1からh2へ変化する|
|`s2`|回転終了時のカメラの傾き。カメラの傾きが回転しながらs1からs2へ変化する|

ex) `rotate4,3,1.5,0,-30,225,-270,2,0,30`

225度から回転し始め時計回りに270度分だけ回転する。回転しながら半径が4から2に変化、高さが3から0に変化、カメラの傾きが－30から30に変化する。(GIF参照↓)

![sample](https://raw.github.com/wiki/rei05/Scriptmapper/images/rotate_sample.gif)

## rotコマンド

任意のstart点から任意のend点へ回転移動させるコマンドです。

コマンド書式: `[start],[end],rot_[n]_[o]`

|パラメータ|説明|
|---|---|
|`n`|回転数を指定する。真上から見て正の数は反時計周り、負の数は時計回り。0は無効。1とすると、startからendへ反時計周りに回転移動する。2とすると、startからendへ反時計周りに回転移動した後さらに1回転する(＝endを2回通過する)。|
|`o`|公式版rotateコマンドのoパラメータと同じ。|

ex1) `center3,side3,rot_1_0`（center3の位置からside3の位置まで反時計周りに回転しながら移動）

ex2) `q_-3.93_2.97_0.12_28.6_90.4_0_60,q_2.12_2.46_-2.49_17.7_320.7_0_60,rot_-2_1` （qコマンドとの併用）


**制約事項および既知の問題点**

・rotコマンドとeaseコマンドは併用できません。

・カメラの傾きは現在の回転角によって自動決定されstart/endにおける傾きは無視されます。前のブックマークにnextコマンドを置いたり、次のブックマークにstopを置いたとしても"滑らかには"画面遷移できません。
